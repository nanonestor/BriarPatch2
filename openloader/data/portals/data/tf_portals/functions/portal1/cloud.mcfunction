## AS AT Casted Cloud
# Move cloud forwards to detect what the player is looking at
execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check
# After cloud reaches lava with potential frame, run full detection

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

execute at @s[tag=!p1_cancelled] run tp @s ^ ^ ^0.1
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-1 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/low_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-2 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/mid_check
execute at @s[tag=!p1_cancelled] if block ~ ~ ~ minecraft:redstone_block if block ~ ~-3 ~ kubejs:honey_latex_bricks run function tf_portals:portal1/top_check

